import{I as e}from"./InputTemplate-chunk-99594d67.js";import{d as a,_ as l,h as t,k as s,o as n,b as o,G as i,w as u,m as r,l as d,c,a as h,H as p,A as m,F as y,r as _,t as b,v as f}from"./main-chunk-0e8e2f38.js";const S=a({name:"InputSearch",components:{InputTemplate:e},props:{modelValue:{type:String,default:()=>null},id:{type:String,default:()=>""},label:{type:String,default:()=>""},tooltips:{type:Array,default:()=>[]},showTooltips:{type:Boolean,default:()=>!1},name:{type:String,default:()=>""},readOnly:{type:Boolean,default:()=>!1},placeholder:{type:String,default:()=>"Поиск"},disabled:{type:Boolean,default:()=>!1},autofocus:{type:Boolean,default:()=>!1},title:{type:String,default:()=>""},errors:{type:Array,default:()=>[]}},emits:["update:modelValue","search","clear"],data:()=>({isFocus:!1,currentVal:""}),computed:{value:{get(){return this.modelValue??this.currentVal},set(e){this.$emit("update:modelValue",e),this.currentVal=e}}},methods:{setValue(e){this.value=e},handleFocusOut(){this.isFocus=!1},handleFocusIn(){this.disabled||(this.isFocus=!0)},handleSearch(){this.disabled||this.$emit("search",this.value)},handleClear(){this.setValue(""),this.$emit("clear")}}}),k={class:"input-search__wrapper"},V=["id","placeholder","disabled","autofocus","title","name"],v={key:0,class:"input-search__icons"},w=[h("span",{class:"input-search__clear-icon"},null,-1)],F=[h("span",{class:"input-search__arrow-icon"},null,-1)],C={key:1,class:"input-search__icons"},g=[h("span",{class:"input-search__lens-icon"},null,-1)],I={class:"input-search__dropdown"},x={class:"input-search__tooltips"},K=["onClick","onKeydown"];const T=l(S,[["render",function(e,a,l,S,T,$){const B=t("InputTemplate"),O=s("click-outside");return n(),o(B,{id:e.id,label:e.label,errors:e.errors,disabled:e.disabled,autofocus:e.autofocus,"read-only":e.readOnly,"is-empty":!e.value},i({default:u((()=>[d((n(),c("div",{class:"input-search",onFocusin:a[7]||(a[7]=(...a)=>e.handleFocusIn&&e.handleFocusIn(...a))},[h("div",k,[d(h("input",{id:e.id,"onUpdate:modelValue":a[0]||(a[0]=a=>e.value=a),placeholder:e.placeholder,disabled:e.disabled,autofocus:e.autofocus,inputmode:"text",title:e.title,name:e.name,type:"text",class:"input-search__input"},null,8,V),[[p,e.value]]),e.isFocus?(n(),c("div",v,[h("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:"input-search__clear",onClick:a[1]||(a[1]=(...a)=>e.handleClear&&e.handleClear(...a)),onKeydown:a[2]||(a[2]=m(((...a)=>e.handleClear&&e.handleClear(...a)),["enter"]))},w,32),h("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:"input-search__arrow",onClick:a[3]||(a[3]=(...a)=>e.handleSearch&&e.handleSearch(...a)),onKeydown:a[4]||(a[4]=m(((...a)=>e.handleSearch&&e.handleSearch(...a)),["enter"]))},F,32)])):(n(),c("div",C,[h("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:"input-search__lens",onClick:a[5]||(a[5]=(...a)=>e.handleSearch&&e.handleSearch(...a)),onKeydown:a[6]||(a[6]=m(((...a)=>e.handleSearch&&e.handleSearch(...a)),["enter"]))},g,32)]))]),d(h("div",I,[h("ul",x,[(n(!0),c(y,null,_(e.tooltips,(a=>(n(),c("li",{key:a,tabindex:"0",role:"button",class:"input-search__tooltip",onClick:l=>e.setValue(a),onKeydown:m((l=>e.setValue(a)),["enter"])},b(a),41,K)))),128))])],512),[[f,e.tooltips.length&&e.showTooltips&&e.isFocus]])],32)),[[O,e.handleFocusOut]])])),_:2},[e.$slots.label?{name:"label",fn:u((({labelValue:a})=>[r(e.$slots,"label",{labelValue:a})])),key:"0"}:void 0]),1032,["id","label","errors","disabled","autofocus","read-only","is-empty"])}]]);export{T as default};
