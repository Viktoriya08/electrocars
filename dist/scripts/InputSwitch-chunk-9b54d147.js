import{K as e,L as l,o as a,c as t,l as u,a as n,n as d,m as i,B as s,p as o,A as r,v as c,z as b,d as f,_ as g,h,b as p,G as v,w as m,t as k,i as y}from"./main-chunk-0e8e2f38.js";import{I as V}from"./InputTemplate-chunk-99594d67.js";var O={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1},aria:{required:!1,type:Object,default:()=>({})}},setup(a,t){const u=function(a,t,u){const{value:n,modelValue:d,falseValue:i,trueValue:s,disabled:o}=e(a),r=d&&void 0!==d.value?d:n,c=l((()=>r.value===s.value)),b=e=>{t.emit("input",e),t.emit("update:modelValue",e),t.emit("change",e)},f=()=>{b(s.value)},g=()=>{b(i.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(r.value)&&-1===[i.value,s.value].indexOf(r.value)&&g(),-1!==[!0,1,"1","on"].indexOf(r.value)&&-1===[i.value,s.value].indexOf(r.value)&&f(),{externalValue:r,checked:c,update:b,check:f,uncheck:g,handleInput:e=>{b(e.target.checked?s.value:i.value)},handleClick:()=>{o.value||(c.value?g():f())}}}(a,t),n=function(a,t,u){const{trueValue:n,falseValue:d,onLabel:i,offLabel:s}=e(a),o=u.checked,r=u.update;return{label:l((()=>{let e=o.value?i.value:s.value;return e||(e="&nbsp;"),e})),toggle:()=>{r(o.value?d.value:n.value)},on:()=>{r(n.value)},off:()=>{r(d.value)}}}(a,0,{checked:u.checked,update:u.update}),d=function(a,t,u){const n=e(a),d=n.disabled,i=u.checked,s=l((()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...n.classes.value})));return{classList:l((()=>({container:s.value.container,toggle:[s.value.toggle,d.value?i.value?s.value.toggleOnDisabled:s.value.toggleOffDisabled:i.value?s.value.toggleOn:s.value.toggleOff],handle:[s.value.handle,d.value?i.value?s.value.handleOnDisabled:s.value.handleOffDisabled:i.value?s.value.handleOn:s.value.handleOff],label:s.value.label})))}}(a,0,{checked:u.checked}),i=function(l,a,t){const{disabled:u}=e(l),n=t.check,d=t.uncheck,i=t.checked;return{handleSpace:()=>{u.value||(i.value?d():n())}}}(a,0,{check:u.check,uncheck:u.uncheck,checked:u.checked});return{...u,...d,...n,...i}}};const S=["tabindex","aria-checked","aria-describedby","aria-labelledby"],L=["id","name","value","checked","disabled"],q=["innerHTML"],w=["checked"];O.render=function(e,l,f,g,h,p){return a(),t("div",o({class:e.classList.container,tabindex:f.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":f.describedby,"aria-labelledby":f.labelledby,role:"switch"},f.aria,{onKeypress:l[1]||(l[1]=r(b(((...l)=>e.handleSpace&&e.handleSpace(...l)),["prevent"]),["space"]))}),[u(n("input",{type:"checkbox",id:f.id,name:f.name,value:f.trueValue,checked:e.checked,disabled:f.disabled},null,8,L),[[c,!1]]),n("div",{class:d(e.classList.toggle),onClick:l[0]||(l[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[n("span",{class:d(e.classList.handle)},null,2),i(e.$slots,"label",{checked:e.checked,classList:e.classList},(()=>[n("span",{class:d(e.classList.label),innerHTML:e.label},null,10,q)])),f.required?(a(),t("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,w)):s("v-if",!0)],2)],16,S)},O.__file="src/Toggle.vue";const x=g(f({name:"InputSwitch",components:{InputTemplate:V,Toggle:O},props:{modelValue:{type:[String,Number,Boolean],default:()=>null},id:{type:String,default:()=>""},disabled:{type:Boolean,default:()=>!1},label:{type:String,default:()=>""},name:{type:String,default:()=>""},trueValue:{type:[String,Number,Boolean],default:()=>!0},falseValue:{type:[String,Number,Boolean],default:()=>!1},offLabel:{type:String,default:()=>""},onLabel:{type:String,default:()=>""},errors:{type:Array,default:()=>[]}},emits:["update:modelValue"],data:()=>({switchValue:!1}),computed:{value:{get(){return this.modelValue??this.switchValue},set(e){this.switchValue=e,this.$emit("update:modelValue",e)}}},methods:{setValue(e){this.disabled||(this.value=e)}}}),[["render",function(e,l,u,o,r,c){const b=h("Toggle"),f=h("InputTemplate");return a(),p(f,{label:e.label,errors:e.errors,tag:"span"},v({default:m((()=>[n("div",{class:d(["input-switch",[{disabled:e.disabled},{error:e.errors.length},{active:e.value===e.trueValue}]])},[e.offLabel?(a(),t("span",{key:0,class:"input-switch__label input-switch__label--off",onClick:l[0]||(l[0]=l=>e.setValue(e.falseValue))},k(e.offLabel),1)):s("",!0),y(b,{modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=l=>e.value=l),disabled:e.disabled,name:e.name,"true-value":e.trueValue,"false-value":e.falseValue,class:"input-switch__switch"},null,8,["modelValue","disabled","name","true-value","false-value"]),e.onLabel?(a(),t("span",{key:1,class:"input-switch__label input-switch__label--on",onClick:l[2]||(l[2]=l=>e.setValue(e.trueValue))},k(e.onLabel),1)):s("",!0)],2)])),_:2},[e.$slots.label?{name:"label",fn:m((({labelValue:l})=>[i(e.$slots,"label",{labelValue:l})])),key:"0"}:void 0,e.$slots.action?{name:"action",fn:m((()=>[i(e.$slots,"action")])),key:"1"}:void 0]),1032,["label","errors"])}]]);export{x as default};
