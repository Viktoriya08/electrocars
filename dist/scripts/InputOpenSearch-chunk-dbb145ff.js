import{I as e}from"./InputTemplate-chunk-df175f93.js";import{d as a,_ as l,h as t,o as s,b as n,G as r,w as i,m as d,a as o,l as u,H as c,c as h,n as p,A as b,v as _,r as m,t as y,F as f}from"./main-chunk-fdacad84.js";const S=a({name:"InputOpenSearch",components:{InputTemplate:e},props:{modelValue:{type:String,default:()=>null},id:{type:String,default:()=>""},label:{type:String,default:()=>""},tooltips:{type:Array,default:()=>[]},showTooltips:{type:Boolean,default:()=>!1},name:{type:String,default:()=>""},readOnly:{type:Boolean,default:()=>!1},placeholder:{type:String,default:()=>"Поиск"},disabled:{type:Boolean,default:()=>!1},title:{type:String,default:()=>""},errors:{type:Array,default:()=>[]}},emits:["update:modelValue","search","clear"],data:()=>({isFocus:!1,currentVal:""}),computed:{value:{get(){return this.modelValue??this.currentVal},set(e){this.$emit("update:modelValue",e),this.currentVal=e}}},mounted(){this.disabled||(this.$refs.search.focus(),this.isFocus=!0)},methods:{setValue(e){this.value=e},handleSearch(){this.disabled||this.$emit("search",this.value)},handleClear(e){this.setValue(""),this.$emit("clear"),e.stopPropagation()}}}),C={class:"input-search"},V={class:"input-search__wrapper"},k=["id","placeholder","disabled","title","name"],v={key:0,class:"input-search__icons"},w=[o("span",{class:"input-search__clear-icon"},null,-1)],g=[o("span",{class:"input-search__arrow-icon"},null,-1)],x={key:1,class:"input-search__icons"},K=[o("span",{class:"input-search__lens-icon"},null,-1)],$=[o("span",{class:"input-search__clear-icon"},null,-1)],F={class:"input-search__dropdown"},I={class:"input-search__tooltips"},T=["onClick","onKeydown"];const A=l(S,[["render",function(e,a,l,S,A,B){const O=t("InputTemplate");return s(),n(O,{id:e.id,label:e.label,errors:e.errors,disabled:e.disabled,"read-only":e.readOnly,"is-empty":!e.value},r({default:i((()=>[o("div",C,[o("div",V,[u(o("input",{id:e.id,ref:"search","onUpdate:modelValue":a[0]||(a[0]=a=>e.value=a),placeholder:e.placeholder,disabled:e.disabled,inputmode:"text",title:e.title,name:e.name,type:"text",class:"input-search__input"},null,8,k),[[c,e.value]]),e.isFocus?(s(),h("div",v,[o("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:p(["input-search__clear",{disabled:e.disabled}]),onClick:a[1]||(a[1]=(...a)=>e.handleClear&&e.handleClear(...a)),onKeydown:a[2]||(a[2]=b(((...a)=>e.handleClear&&e.handleClear(...a)),["enter"]))},w,34),o("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:"input-search__arrow",onClick:a[3]||(a[3]=(...a)=>e.handleSearch&&e.handleSearch(...a)),onKeydown:a[4]||(a[4]=b(((...a)=>e.handleSearch&&e.handleSearch(...a)),["enter"]))},g,32)])):(s(),h("div",x,[o("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:"input-search__lens",onClick:a[5]||(a[5]=(...a)=>e.handleSearch&&e.handleSearch(...a)),onKeydown:a[6]||(a[6]=b(((...a)=>e.handleSearch&&e.handleSearch(...a)),["enter"]))},K,32),o("span",{"aria-hidden":"true",tabindex:"0",role:"button",class:p(["input-search__clear",{disabled:e.disabled}]),onClick:a[7]||(a[7]=(...a)=>e.handleClear&&e.handleClear(...a)),onKeydown:a[8]||(a[8]=b(((...a)=>e.handleClear&&e.handleClear(...a)),["enter"]))},$,34)]))]),u(o("div",F,[o("ul",I,[(s(!0),h(f,null,m(e.tooltips,(a=>(s(),h("li",{key:a,tabindex:"0",role:"button",class:"input-search__tooltip",onClick:l=>e.setValue(a),onKeydown:b((l=>e.setValue(a)),["enter"])},y(a),41,T)))),128))])],512),[[_,e.tooltips.length&&e.showTooltips&&e.isFocus]])])])),_:2},[e.$slots.label?{name:"label",fn:i((({labelValue:a})=>[d(e.$slots,"label",{labelValue:a})])),key:"0"}:void 0]),1032,["id","label","errors","disabled","read-only","is-empty"])}]]);export{A as default};
